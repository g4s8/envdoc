<h1>{{ .Title }}</h1>
{{ range .Sections -}}
    {{ if .Name }}
        <h2>{{ .Name }}</h2>
    {{ end }}
    {{- if .Doc }}
        <p>{{ .Doc }}</p>
    {{ end }}

    <table>
        <thead>
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Default</th>
            <th>Attributes</th>
        </tr>
        </thead>
        <tbody>
        {{- range $item := .Items }}
            {{- $default := "" }}
            {{- if $item.EnvDefault }}
                {{- $default = printf "<code>%s</code>" $item.EnvDefault }}
            {{- end }}

            {{- $attributes := "" }}
            {{- if $item.Required }}
                {{- $attributes = printf "%s<code>REQUIRED</code>, " $attributes }}
            {{- end }}
            {{- if $item.Expand }}
                {{- $attributes = printf "%s<code>Expandable</code>, " $attributes }}
            {{- end }}
            {{- if $item.NonEmpty }}
                {{- $attributes = printf "%s<code>Not Empty</code>, " $attributes }}
            {{- end }}
            {{- if $item.FromFile }}
                {{- $attributes = printf "%s<code>From File</code>, " $attributes }}
            {{- end }}
            {{- if $item.EnvSeparator }}
                {{- $attributes = printf "%s<code>Separated by %s</code>, " $attributes $item.EnvSeparator }}
            {{- end }}
            {{- $attributes = trimSuffix $attributes ", " }}

            <tr>
                <td><code>{{ $item.EnvName }}</code></td>
                <td>{{ $item.Doc }}</td>
                <td>{{ $default }}</td>
                <td>{{ $attributes }}</td>
            </tr>
        {{- end }}
        </tbody>
    </table>
{{ end }}

{{ if .Styles -}}
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 1.5em;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 0.5em 0.75em;
            text-align: left;
            vertical-align: top;
        }
        th {
            background: #f5f5f5;
            font-weight: bold;
        }
        code {
            background: #f0f0f0;
            padding: 0.1em 0.3em;
            border-radius: 4px;
            font-family: monospace;
        }
        h1, h2 {
            margin-top: 1.2em;
        }
        p {
            margin: 0.5em 0 1em;
        }
    </style>
{{ end -}}